<div class="fade-in">

    <c-row>
        <c-col col="6">
            <c-card>
                <c-card-header>
                    Sum Profit (All Strategies)
                </c-card-header>
                <c-card-body>
                    <c-row>
                        <c-col sm="5">
                            <h4 class="card-title mb-0">Profit statistic</h4>
                            <div class="small text-muted"></div>
                        </c-col>

                    </c-row>
                    <ng-container>
                        <div class="c-chart-wrapper" style="height:300px;margin-top:40px;margin-bottom: 50px"  [@.disabled]="true" *ngIf="!isLoading">
                            <ag-charts-angular
                                    style="height: 100px"
                                    [options]="sumProfitOptions"
                            ></ag-charts-angular>
                        </div>
                    </ng-container>
                    <ng-container *ngIf="isLoading">
                        <div class="text-center">
                            <div class="spinner-border" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                    </ng-container>
                </c-card-body>
            </c-card>
        </c-col>
        <c-col col="6">
            <c-card>
                <c-card-header>
                    Sum Profit in % (All Strategies)
                </c-card-header>
                <c-card-body>
                    <c-row>
                        <c-col sm="5">
                            <h4 class="card-title mb-0">Profit statistic in %</h4>
                            <div class="small text-muted"></div>
                        </c-col>

                    </c-row>
                    <ng-container>
                        <div class="c-chart-wrapper" style="height:300px;margin-top:40px;margin-bottom: 50px"  [@.disabled]="true" *ngIf="!isLoading">
                            <div class="progress-group">
                                <div class="progress-group-header align-items-end">
                                    <c-icon name="cil-hand-point-up" customClasses="c-icon progress-group-icon" ></c-icon>
                                    <div>Profit</div>
                                    <div class="mfs-auto font-weight-bold mfe-2">{{formatDollarAmount(profitLossArray[0].amount)}}</div>
                                    <div class="text-muted small">({{calculatePercentFromProfitLossStr(profitLossArray[0].amount)}})</div>
                                </div>
                                <div class="progress-group-bars">
                                    <c-progress size="xs">
                                        <c-progress-bar color="success" [value]="calculatePercentFromProfitLoss(profitLossArray[0].amount)"></c-progress-bar>
                                    </c-progress>
                                </div>
                            </div>
                            <div class="progress-group">
                                <div class="progress-group-header align-items-end">
                                    <c-icon name="cil-hand-point-down" customClasses="c-icon progress-group-icon" ></c-icon>
                                    <div>Loss</div>
                                    <div class="mfs-auto font-weight-bold mfe-2">{{formatDollarAmount(profitLossArray[1].amount)}}</div>
                                    <div class="text-muted small">({{calculatePercentFromProfitLossStr(profitLossArray[1].amount)}})</div>
                                </div>
                                <div class="progress-group-bars">
                                    <c-progress size="xs">
                                        <c-progress-bar color="danger" [value]="calculatePercentFromProfitLoss(profitLossArray[1].amount)"></c-progress-bar>
                                    </c-progress>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                    <ng-container *ngIf="isLoading">
                        <div class="text-center">
                            <div class="spinner-border" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                    </ng-container>
                </c-card-body>
            </c-card>
        </c-col>
    </c-row>
    <c-row>
        <c-col col="12">
            <c-card>
                <c-card-header>
                    Strategy Profits
                </c-card-header>
                <c-card-body>
                    <c-row>
                        <c-col sm="5">
                            <h4 class="card-title mb-0">Profit statistic</h4>
                            <div class="small text-muted"></div>
                        </c-col>

                    </c-row>
                    <ng-container>
                        <div class="c-chart-wrapper" style="height:300px;margin-top:40px;margin-bottom: 50px"  [@.disabled]="true" *ngIf="!isLoading">
                            <ag-charts-angular
                                    style="height: 100%"
                                    [options]="strategyOptions"
                            ></ag-charts-angular>
                        </div>
                    </ng-container>
                    <ng-container *ngIf="isLoading">
                        <div class="text-center">
                            <div class="spinner-border" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                    </ng-container>
                </c-card-body>
            </c-card>
        </c-col>
    </c-row>
    <c-row>
        <c-col col="12">
            <c-card>
                <c-card-header>
                    Strategy Profits in percents
                </c-card-header>
                <c-card-body>
                    <c-row>
                        <c-col sm="5">
                            <h4 class="card-title mb-0">Profit statistic in percents</h4>
                            <div class="small text-muted"></div>
                        </c-col>
                    </c-row>
                    <ng-container>
                        <div class="c-chart-wrapper" style="height: auto;margin-top:40px;margin-bottom: 50px"  [@.disabled]="true" *ngIf="!isLoading">
                            <ng-container *ngFor="let strategyData of strategyProfitData">
                                <div class="progress-group">
                                    <h5 class="card-title mb-0 strat-title">Strategy: {{strategyData.strategy}}</h5>
                                    <div class="progress-group-header align-items-end">
                                        <c-icon name="cil-hand-point-up" customClasses="c-icon progress-group-icon" ></c-icon>
                                        <div>Profit</div>
                                        <div class="mfs-auto font-weight-bold mfe-2">{{formatDollarAmount(strategyData.profit)}}</div>
                                        <div class="text-muted small">({{calculateStrategyPercentFromProfitLossStr(strategyData.profit, strategyData)}})</div>
                                    </div>
                                    <div class="progress-group-bars">
                                        <c-progress size="xs">
                                            <c-progress-bar color="success" [value]="calculateStrategyPercentFromProfitLoss(strategyData.profit, strategyData)"></c-progress-bar>
                                        </c-progress>
                                    </div>
                                </div>
                                <div class="progress-group">
                                    <div class="progress-group-header align-items-end">
                                        <c-icon name="cil-hand-point-down" customClasses="c-icon progress-group-icon" ></c-icon>
                                        <div>Loss</div>
                                        <div class="mfs-auto font-weight-bold mfe-2">{{formatDollarAmount(strategyData.loss)}}</div>
                                        <div class="text-muted small">({{calculateStrategyPercentFromProfitLossStr(strategyData.loss, strategyData)}})</div>
                                    </div>
                                    <div class="progress-group-bars">
                                        <c-progress size="xs">
                                            <c-progress-bar color="danger" [value]="calculateStrategyPercentFromProfitLoss(strategyData.loss, strategyData)"></c-progress-bar>
                                        </c-progress>
                                    </div>
                                </div>
                                <hr class="strat-line" />
                            </ng-container>
                        </div>
                    </ng-container>
                    <ng-container *ngIf="isLoading">
                        <div class="text-center">
                            <div class="spinner-border" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                    </ng-container>
                </c-card-body>
            </c-card>
        </c-col>
    </c-row>
</div>
